<div class="wrapper-content">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5><#if info??>编辑<#else>添加</#if>任务</h5>
                    <div class="ibox-tools">
                        <a class="btn btn-white btn-bitbucket btn-xs" href="javascript: goPage('index')">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
               		 <form method="get" class="form-horizontal" id="emergency-task-form">
             		 	<input type="hidden" name="id">
                        <div class="form-group">
                            <label class="col-sm-2 control-label">*选择事件类型</label>
                            <div class="col-sm-10">
								<select class="form-control" placeholder="选择事件性质">
									<option>真实事件</option>
									<option>演练事件</option>
								</select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">*选择事件</label>
                            <div class="col-sm-10">
                            	<select class="form-control">
									<option>天府新谷楼梯你坍塌</option>
								</select>
                            </div>
                        </div>
                         <div class="form-group">
                            <label class="col-sm-2 control-label">*紧急度</label>
                            <div class="col-sm-10">
								<div class="form-control task-urgency-picker"></div>
                            </div>
                        </div>
                        <div class="form-group after-validate">
                            <label class="col-sm-2 control-label">*任务指派</label>
                            <div class="col-sm-10">
								<div class="form-control event-orgChart-picker"></div>
                            </div>
                        </div>
                        <div class="form-group after-validate">
                            <label class="col-sm-2 control-label">*执行时间</label>
                            <div class="col-sm-10">
                            	<div class="form-control" id="emergency-task-dotime">请选择执行时间</div>
                            </div>
                        </div>
                        
                        <div class="form-group after-validate">
                            <label class="col-sm-2 control-label">*预计完成时间</label>
                            <div class="col-sm-10">
                            	<div class="form-control" id="emergency-task-endtime">请选择预计完成时间</div>
                            	<input type="checkbox">暂不确定
                            </div>
                        </div>
                        
                        <div class="form-group after-validate">
                            <label class="col-sm-2 control-label">任务描述</label>
                            <div class="col-sm-10">
								<textarea class="form-control" name="describle"></textarea>
                            </div>
                        </div>
                        <div class="form-group after-validate">
                            <div class="col-sm-4 col-sm-offset-2">
                                <button class="btn btn-primary" type="submit">保存</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
let emergencyTaskForm = (function(){
	let formSelector = '',
		init = function(p) {
			fomSelector = '#emergency-task-form';
			if (p) {
				
			}
			laydate.render({
				  elem: '#emergency-task-dotime',
				  type: 'datetime',
				  theme: '#0069b6',
				  value: new Date().Format('yyyy-MM-dd hh:MM:ss')
			});
			
			$(fomSelector).validate({
		        rules: {
		        	
		        },
		        messages: {
		        	
		        },
		        submitHandler:function(form){
		        	let saveObj = $(fomSelector).serializeObject();
		        	
		        	
		        	return false;
		        	
		        	operation({
		        		'moduleName': 'emergency-task', 
		        		'oper': 'save',
		        		'params': {
		        			'data': JSON.stringify(saveObj)
		        		}
		        	})
		        } 
			});
			
		};
		
	return {
		init: init
	}
}());
emergencyTaskForm.init();
</script>